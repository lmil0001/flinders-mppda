(function(a){a.fn.multipleElementsCycle=function(b){var c={elementContainer:"#cycleElements",prevElement:"#cycleElementsLeft",nextElement:"#cycleElementsRight",speed:500,containerSize:false,showCount:4,overrideStart:false,jumpTo:false,vertical:false};var b=a.extend(c,b);return this.each(function(){var k=a(this).find("li");var f=k.length-1;var j=(b.overrideStart===false)?Math.floor((f-b.showCount+1)/2):b.overrideStart;var d=(b.vertical===false)?a(this).find("li").outerWidth(true):a(this).find("li").outerHeight(true);var i=((j)*d)*-1;var h=j+b.showCount;var g=a(this);if(h>=k.length){a(b.nextElement).hide()}if(j<=0){a(b.prevElement).hide()}if(b.vertical===false){a(this).find(b.elementContainer).css({width:(b.containerSize)?b.containerSize:d*b.showCount,overflow:"hidden"});a(this).find("ul").css({width:(f+1)*d,padding:"0"});a("ul",g).animate({marginLeft:i},b.speed)}else{a(this).find(b.elementContainer).css({height:(b.containerSize)?b.containerSize:d*b.showCount,overflow:"hidden"});a(this).find("ul").css({height:(f+1)*d,padding:"0"});a("ul",g).animate({marginTop:i},b.speed)}var e={next:function(){if(h<=f){a(b.prevElement).show();i=i-d;h=h+1;j=j+1;if(b.vertical===false){a("ul",g).animate({marginLeft:i},b.speed)}else{a("ul",g).animate({marginTop:i},b.speed)}if(h>f){a(b.nextElement).hide()}}},prev:function(){if(j>=0){a(b.nextElement).show();h=h-1;j=j-1;i=i+d;if(b.vertical===false){a("ul",g).animate({marginLeft:i},b.speed)}else{a("ul",g).animate({marginTop:i},b.speed)}if((j-1)<0){a(b.prevElement).hide()}}},toPoint:function(m){var l=h;if(m==0){h=f+1;j=h-b.showCount}else{if(m<0){h=f+parseInt(m);j=j+parseInt(m)}else{j=m-1;h=j+b.showCount}}i=i+(d*(l-h));if(b.vertical===false){a("ul",g).animate({marginLeft:i},b.speed)}else{a("ul",g).animate({marginTop:i},b.speed)}if(h>=f){a(b.nextElement).hide()}else{a(b.nextElement).show()}if(j==0){a(b.prevElement).hide()}else{a(b.prevElement).show()}}};a(b.nextElement).live("click",function(){e.next();return false});a(b.prevElement).live("click",function(){e.prev();return false});if(b.jumpTo){a(b.jumpTo).live("click",function(){e.toPoint(a(this).attr("rel"));return false})}})}})(jQuery);